- [多态](#多态)
  - [使用细节](#使用细节)
    - [多态的向上转型](#多态的向上转型)
    - [多态的向下转型](#多态的向下转型)
  - [属性重写问题](#属性重写问题)
  - [java的动态绑定机制，（很重要）](#java的动态绑定机制很重要)
  - [多态的应用](#多态的应用)
    - [多态数组](#多态数组)
    - [多态参数](#多态参数)
- [Object 类详解](#object-类详解)
  - [equals 与 == 对比](#equals-与--对比)
  - [hash code](#hash-code)
  - [toString](#tostring)
  - [finalize方法](#finalize方法)

## 多态
方法或对象具有多种形态，是建立在封装和继承基础上的
1. 方法的多态： 重写和重载就体现多态
2. 对象的多态
    - 一个对象的编译类型和运行类型可以不一致
    - 编译类型在定义对象时，就确定了，不能改变
    - 运行类型是可以变化的，可以通过 getClass() 查看
    - 编译类型看定义时 = 号 左边，运行类型看 = 号的 右边
### 使用细节
- 前提是：两个对象（类）存在继承关系
#### 多态的向上转型
1. 本质：父类的引用指向了子类的对象
2. 语法： 父类类型引用名 = new 子类类型（）；
3. 可以调用父类中的所有成员（需遵守访问权限），但不能调用子类的特有成员； 因为在编译阶段，能调用哪些成员，由编译类型确定的； 最后运行类型看子类的具体实现，调用方法时，按照从子类开始查找方法。

#### 多态的向下转型
1. 语法： 子类类型  引用名 = （子类类型） 父类引用；
2. 只能强转父类的引用，不能强转父类的对象
3. 要求父类的引用必须指向的是当前目标类型的对象
4. 当向下转型后，可以调用子类类型中的所有成员
### 属性重写问题
1. 属性没有重写之说，属性的值看**编译类型**，方法看**运行类型**。
2. instanceof 比较类型，用于判断**对象的运行类型**是否为 xx 类型 或 xx 类型的子类型
3. 两个对象判断，比较的是地址

### java的动态绑定机制，（很重要）
1. 当调用对象方法的时候，该方法会和该对象的内存地址 / 运行类型 绑定
2. 当调用对象属性，（成员变量），时，没有动态绑定机制，哪里声明，哪里使用

### 多态的应用 
#### 多态数组
- 数组的定义类型为父类类型，里面保存的实际元素类型为子类类型
- 父类的引用可以指向子类的对象
- 编译的时候看编译类型，运行的时候看运行类型
- 如果要调用子类对象的方法，需要先向下转型后再调用（也可以一步，直接强转后调用） 类型判断 + 强制转换

#### 多态参数
方法定义的形参类型为父类类型，实参类型运行为子类类型
## Object 类详解
### equals 与 == 对比
- == 是一个比较运算符
    - 既可以判断基本类型，也可以判断引用类型
    - 判断基本类型时，判断值是否相等
    - 判断引用类型时，判断的是地址是否相等
- equals： 默认是Object类中的方法， 只能判断引用类型
- 默认判断的是地址是否相等， 子类中往往重写该方法，用于判断内容是否相等。
- java 可以直接判断 浮点数 相等

### hash code
1. 提高具有哈希结构的容器的效率
2. 两个引用，如果指向的是同一个对象，则哈希值肯定是一样的
3. 两个引用，如果指向的是不同对象，则哈希值是不一样的
4. 哈希值主要根据地址号来的，不能完全将哈希值等价于地址

### toString
基本介绍： 默认返回： 全类名 + @ + 哈希值的十六进制， 【查看 object 的 toString 方法】，子类往往重写 toString 方法，用于返回对象的属性信息

- 重写toString方法，打印对象或拼接对象时，都会自动调用该对象的toString形式
- 直接输出一个对象时， toString 方法会被默认的调用

### finalize方法
1. 当对象被回收时，系统自动调用该对象的finalize方法， 子类可以重写该方法
2. 当某个对象没有任何引用时， 则jvm 就认为这个对象是一个垃圾对象， 就会使用垃圾回收机制来销毁该对象， 在销毁该对象前，会先调用finalize 方法
3. 垃圾回收机制的调用，是由系统决定的（系统有自己的算法），也可以通过System.gc() 主动触发垃圾回收机制
4. 实际开发中， 几乎不会运用 finalize
 
 - 创建对象流程
     - 加载 类信息
     - 初始化  1） 默认初始化， 2） 显式初始化， 3） 构造器初始化
     - 返回对象的地址

- 一段代码完成一个小功能，不要混在一起

